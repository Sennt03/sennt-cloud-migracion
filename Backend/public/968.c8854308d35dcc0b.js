"use strict";(self.webpackChunkMigracion=self.webpackChunkMigracion||[]).push([[968],{4968:(G,g,d)=>{d.r(g),d.d(g,{AuthModule:()=>O});var p=d(6814),c=d(3403),s=d(6223),f=d(8645),u=d(4116),t=d(5879),v=d(304),h=d(6992);function T(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *enter a valid email "),t.qZA())}function A(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *required "),t.qZA())}function b(e,r){if(1&e&&(t.TgZ(0,"div",28),t.YNc(1,T,2,0,"div",29),t.YNc(2,A,2,0,"div",29),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.hasError("email","email")),t.xp6(1),t.Q6J("ngIf",i.hasError("email","required"))}}function x(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *must have at least 8 letters "),t.qZA())}function C(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *required "),t.qZA())}function U(e,r){if(1&e&&(t.TgZ(0,"div",28),t.YNc(1,x,2,0,"div",29),t.YNc(2,C,2,0,"div",29),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.hasError("password","minlength")),t.xp6(1),t.Q6J("ngIf",i.hasError("password","required"))}}let q=(()=>{var e;class r{constructor(o,n,a,l,m){this.renderer=o,this.router=n,this.route=a,this.formBuilder=l,this.authService=m,this.maskLoad=new f.x,this.buildForm()}buildForm(){this.form=this.formBuilder.group({email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required,s.kI.minLength(8)]]})}togglePasswordVisibility(){const o=this.renderer.selectRootElement("#password-input"),n=this.renderer.selectRootElement(".icon-password"),a="password"===o.getAttribute("type")?"text":"password",l="password"===o.getAttribute("type")?"fa-eye":"fa-eye-slash",m="password"===o.getAttribute("type")?"fa-eye-slash":"fa-eye";this.renderer.setAttribute(o,"type",a),this.renderer.removeClass(n,l),this.renderer.addClass(n,m)}signup(){this.router.navigate(["../register"],{relativeTo:this.route})}hasError(o,n){return this.form.get(o).hasError(n)}haveErrors(o){return this.form.get(o).touched&&this.form.get(o).invalid}login(){this.form.valid?(this.maskLoad.next(!0),this.authService.login(this.form.value).subscribe({next:o=>{u.Z.success("Welcome!",""),this.maskLoad.next(!1),this.authService.saveAuth(o),this.form.markAsUntouched(),this.router.navigate(["/"])},error:o=>{this.maskLoad.next(!1),u.Z.setOption("timeOut",3e3),window.innerWidth<768&&u.Z.setOption("positionClass","toast-top-center"),u.Z.error(o.error.message,"Failed Login"),u.Z.setDefaultsOptions()}})):this.form.markAllAsTouched()}}return(e=r).\u0275fac=function(o){return new(o||e)(t.Y36(t.Qsj),t.Y36(c.F0),t.Y36(c.gz),t.Y36(s.qu),t.Y36(v.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:38,vars:4,consts:[[1,"auth"],[1,"container-xl"],[1,"row"],[1,"col-md-5","text_auth"],[1,"fondo"],["src","assets/images/auth/cloud_blanco.png","alt","",1,"logo"],[1,"circulo-container"],[1,"circulo"],[1,"ondas","morada"],[1,"ondas","rosa"],[1,"circulo","fondo"],[1,"col-md-7","form",3,"formGroup","ngSubmit"],[1,"text"],[1,"form-floating","form-floating-custom","mb-3"],["formControlName","email","type","text","id","input-username","placeholder","Enter Email",1,"form-control"],["for","input-username"],["class","div-error",4,"ngIf"],[1,"form-floating","form-floating-custom","form-password","auth-pass-inputgroup","mb-3"],["formControlName","password","type","password","id","password-input","placeholder","Enter Password",1,"form-control"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","h-100","end-0","top-0",3,"click"],[1,"icon-password","fa-regular","fa-eye"],["for","input-password"],[1,"mt-4"],["type","submit",1,"btn","btn-dark","shadow-none","w-100"],[1,"mt-3","text-center"],[1,"mb-0","text-muted"],[1,"text-success","fw-bold","text-decoraton-underline","ms-1",3,"click"],[3,"showEvent"],[1,"div-error"],[4,"ngIf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"div",4)(5,"img",5),t.TgZ(6,"div",6)(7,"div",7),t._UZ(8,"span",8)(9,"span",9)(10,"span",10),t.qZA()()(),t.TgZ(11,"form",11),t.NdJ("ngSubmit",function(){return n.login()}),t.TgZ(12,"div",12),t._uU(13," Log in to "),t.TgZ(14,"p"),t._uU(15,"SenntCloud"),t.qZA()(),t.TgZ(16,"div",13),t._UZ(17,"input",14),t.TgZ(18,"label",15),t._uU(19,"Email"),t.qZA(),t.YNc(20,b,3,2,"div",16),t.qZA(),t.TgZ(21,"div",17),t._UZ(22,"input",18),t.TgZ(23,"button",19),t.NdJ("click",function(){return n.togglePasswordVisibility()}),t._UZ(24,"i",20),t.qZA(),t.TgZ(25,"label",21),t._uU(26,"Password"),t.qZA(),t.YNc(27,U,3,2,"div",16),t.qZA(),t.TgZ(28,"div",22)(29,"button",23),t._uU(30,"Log In"),t.qZA()(),t._UZ(31,"hr"),t.TgZ(32,"div",24)(33,"p",25),t._uU(34,"Don't have an account ?"),t.TgZ(35,"a",26),t.NdJ("click",function(){return n.signup()}),t._uU(36," Sign up "),t.qZA()()()()()()(),t._UZ(37,"app-loading",27)),2&o&&(t.xp6(11),t.Q6J("formGroup",n.form),t.xp6(9),t.Q6J("ngIf",n.haveErrors("email")),t.xp6(7),t.Q6J("ngIf",n.haveErrors("password")),t.xp6(10),t.Q6J("showEvent",n.maskLoad))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,h.N]}),r})();var _=d(7398);class Z{static matchPasswords(r){return r.get("password").value!==r.get("confirmPassword").value?{match_password:!0}:null}static validateUsername(r){return i=>w(r,i.value,"username")}static validateEmail(r){return i=>w(r,i.value,"email")}static emailIsValid(r){return i=>r.isValidEmal(i.value).pipe((0,_.U)(n=>n.isValid?null:{not_valid:!0}))}}function w(e,r,i){return e.validateAvaible(r,i).pipe((0,_.U)(o=>o.isAvailable?null:{not_available:!0}))}function y(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *must have at least 3 letters "),t.qZA())}function E(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *required "),t.qZA())}function I(e,r){if(1&e&&(t.TgZ(0,"div",33),t.YNc(1,y,2,0,"div",34),t.YNc(2,E,2,0,"div",34),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.hasError("username","minlength")),t.xp6(1),t.Q6J("ngIf",i.hasError("username","required"))}}function k(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *email is already in use "),t.qZA())}function J(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *enter a valid email "),t.qZA())}function N(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *required "),t.qZA())}function L(e,r){if(1&e&&(t.TgZ(0,"div",33),t.YNc(1,k,2,0,"div",34),t.YNc(2,J,2,0,"div",34),t.YNc(3,N,2,0,"div",34),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.hasError("email","not_available")),t.xp6(1),t.Q6J("ngIf",i.hasError("email","email")),t.xp6(1),t.Q6J("ngIf",i.hasError("email","required"))}}function R(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *must have at least 8 letters "),t.qZA())}function Y(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *required "),t.qZA())}function Q(e,r){if(1&e&&(t.TgZ(0,"div",33),t.YNc(1,R,2,0,"div",34),t.YNc(2,Y,2,0,"div",34),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.hasError("password","minlength")),t.xp6(1),t.Q6J("ngIf",i.hasError("password","required"))}}function S(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," *passwords don't match "),t.qZA())}function P(e,r){if(1&e&&(t.TgZ(0,"div",33),t.YNc(1,S,2,0,"div",34),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.form.hasError("match_password"))}}const F=[{path:"login",component:q},{path:"register",component:(()=>{var e;class r{constructor(o,n,a,l,m){this.renderer=o,this.router=n,this.route=a,this.formBuilder=l,this.authService=m,this.maskLoad=new f.x,this.buildForm()}buildForm(){this.form=this.formBuilder.group({username:["",[s.kI.required,s.kI.minLength(3)]],email:["",[s.kI.required,s.kI.email],Z.validateEmail(this.authService)],password:["",[s.kI.required,s.kI.minLength(8)]],confirmPassword:["",[s.kI.required]]},{validators:Z.matchPasswords})}togglePasswordVisibility(o=""){const a="."+o+"icon-password",l=this.renderer.selectRootElement("#"+o+"password-input"),m=this.renderer.selectRootElement(a),B="password"===l.getAttribute("type")?"text":"password",j="password"===l.getAttribute("type")?"fa-eye":"fa-eye-slash",z="password"===l.getAttribute("type")?"fa-eye-slash":"fa-eye";this.renderer.setAttribute(l,"type",B),this.renderer.removeClass(m,j),this.renderer.addClass(m,z)}signin(){this.router.navigate(["../login"],{relativeTo:this.route})}hasError(o,n){return this.form.get(o).hasError(n)}haveErrors(o){return this.form.get(o).touched&&this.form.get(o).invalid}register(){this.form.valid?(this.maskLoad.next(!0),this.authService.register(this.form.value).subscribe({next:o=>{u.Z.success("Welcome!",""),this.maskLoad.next(!1),this.authService.saveAuth(o),this.form.markAsUntouched(),this.router.navigate(["/"])},error:o=>{this.maskLoad.next(!1),u.Z.setOption("timeOut",3e3),window.innerWidth<768&&u.Z.setOption("positionClass","toast-top-center"),u.Z.error(o.error.message,"Failed Register"),u.Z.setDefaultsOptions()}})):this.form.markAllAsTouched()}}return(e=r).\u0275fac=function(o){return new(o||e)(t.Y36(t.Qsj),t.Y36(c.F0),t.Y36(c.gz),t.Y36(s.qu),t.Y36(v.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:50,vars:6,consts:[[1,"auth","register"],[1,"container-xl"],[1,"row"],[1,"col-md-7","form",3,"formGroup","ngSubmit"],[1,"text"],[1,"form-floating","form-floating-custom","mb-3"],["formControlName","username","type","text","id","input-name","placeholder","Enter Name",1,"form-control"],["for","input-name"],["class","div-error",4,"ngIf"],["formControlName","email","type","text","id","input-username","placeholder","Enter Email",1,"form-control"],["for","input-username"],[1,"form-floating","form-floating-custom","form-password","auth-pass-inputgroup","mb-3"],["formControlName","password","type","password","id","password-input","placeholder","Enter Password",1,"form-control"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","h-100","end-0","top-0",3,"click"],[1,"icon-password","fa-regular","fa-eye"],["for","input-password"],["formControlName","confirmPassword","type","password","id","conf-password-input","placeholder","Enter Confirm Password",1,"form-control"],["type","button","id","conf-password-addon",1,"btn","btn-link","position-absolute","h-100","end-0","top-0",3,"click"],[1,"conf-icon-password","fa-regular","fa-eye"],[1,"mt-4"],["type","submit",1,"btn","btn-dark","shadow-none","w-100"],[1,"mt-3","text-center"],[1,"mb-0","text-muted"],[1,"text-success","fw-bold","text-decoraton-underline","ms-1",3,"click"],[1,"col-md-5","text_auth"],[1,"fondo"],["src","assets/images/auth/cloud_blanco.png","alt","",1,"logo"],[1,"circulo-container"],[1,"circulo"],[1,"ondas","morada"],[1,"ondas","rosa"],[1,"circulo","fondo"],[3,"showEvent"],[1,"div-error"],[4,"ngIf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),t.NdJ("ngSubmit",function(){return n.register()}),t.TgZ(4,"div",4),t._uU(5," Register in to "),t.TgZ(6,"p"),t._uU(7,"SenntCloud"),t.qZA()(),t.TgZ(8,"div",5),t._UZ(9,"input",6),t.TgZ(10,"label",7),t._uU(11,"Name"),t.qZA(),t.YNc(12,I,3,2,"div",8),t.qZA(),t.TgZ(13,"div",5),t._UZ(14,"input",9),t.TgZ(15,"label",10),t._uU(16,"Email"),t.qZA(),t.YNc(17,L,4,3,"div",8),t.qZA(),t.TgZ(18,"div",11),t._UZ(19,"input",12),t.TgZ(20,"button",13),t.NdJ("click",function(){return n.togglePasswordVisibility()}),t._UZ(21,"i",14),t.qZA(),t.TgZ(22,"label",15),t._uU(23,"Password"),t.qZA(),t.YNc(24,Q,3,2,"div",8),t.qZA(),t.TgZ(25,"div",11),t._UZ(26,"input",16),t.TgZ(27,"button",17),t.NdJ("click",function(){return n.togglePasswordVisibility("conf-")}),t._UZ(28,"i",18),t.qZA(),t.TgZ(29,"label",15),t._uU(30,"Confirm Password"),t.qZA(),t.YNc(31,P,2,1,"div",8),t.qZA(),t.TgZ(32,"div",19)(33,"button",20),t._uU(34,"Register"),t.qZA()(),t._UZ(35,"hr"),t.TgZ(36,"div",21)(37,"p",22),t._uU(38,"Have an account ?"),t.TgZ(39,"a",23),t.NdJ("click",function(){return n.signin()}),t._uU(40," Sign in "),t.qZA()()()(),t.TgZ(41,"div",24),t._UZ(42,"div",25)(43,"img",26),t.TgZ(44,"div",27)(45,"div",28),t._UZ(46,"span",29)(47,"span",30)(48,"span",31),t.qZA()()()()()(),t._UZ(49,"app-loading",32)),2&o&&(t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(9),t.Q6J("ngIf",n.haveErrors("username")),t.xp6(5),t.Q6J("ngIf",n.haveErrors("email")),t.xp6(7),t.Q6J("ngIf",n.haveErrors("password")),t.xp6(7),t.Q6J("ngIf",n.form.get("confirmPassword").touched&&n.form.errors),t.xp6(18),t.Q6J("showEvent",n.maskLoad))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,h.N]}),r})()},{path:"**",redirectTo:"login"}];let V=(()=>{var e;class r{}return(e=r).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(F),c.Bz]}),r})();var M=d(4477);let O=(()=>{var e;class r{}return(e=r).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,V,s.UX,M.m]}),r})()}}]);