"use strict";(self.webpackChunkMigracion=self.webpackChunkMigracion||[]).push([[674],{9674:(mt,T,l)=>{l.r(T),l.d(T,{DashboardModule:()=>pt});var p=l(6814),h=l(3403);const b={default:"fa-file",txt:"fa-file-alt",doc:"fa-file-word",docx:"fa-file-word",xls:"fa-file-excel",xlsx:"fa-file-excel",ppt:"fa-file-powerpoint",pptx:"fa-file-powerpoint",pdf:"fa-file-pdf",zip:"fa-file-archive",rar:"fa-file-archive","7z":"fa-file-archive",jpg:"fa-file-image",jpeg:"fa-file-image",png:"fa-file-image",gif:"fa-file-image",mp3:"fa-file-audio",wav:"fa-file-audio",mp4:"fa-file-video",avi:"fa-file-video",mkv:"fa-file-video"};var f=l(4116),U=l(8645),t=l(5879),P=l(6306),w=l(8504),M=l(6982),A=l(304),v=l(9862);let q=(()=>{var o;class r{constructor(e,n){this.authService=e,this.http=n,this.url=`${M.N.url_api}/cloud`}openDir(e){return this.http.get(`${this.url}/openDir/${e}`).pipe((0,P.K)(n=>this.handleError(n)))}handleError(e){return 401===e.status?(this.authService.logout(),(0,w._)("Unauthorized")):(0,w._)("Error unexpected")}}return(o=r).\u0275fac=function(e){return new(e||o)(t.LFG(A.e),t.LFG(v.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),r})();var S=l(3934),J=l(6992),F=l(3566),k=l(2599),g=l(6223),O=l(617),x=l(6311),Z=l(2296);function N(o,r){1&o&&(t.TgZ(0,"button",2)(1,"mat-icon"),t._uU(2,"download"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Download"),t.qZA()())}let I=(()=>{var o;class r{constructor(){this.isFile=!1}}return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-actions"]],inputs:{isFile:"isFile",path:"path"},decls:26,vars:2,consts:[["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","",4,"ngIf"]],template:function(e,n){if(1&e&&(t.TgZ(0,"button",0)(1,"mat-icon"),t._uU(2,"more_vert"),t.qZA()(),t.TgZ(3,"mat-menu",null,1)(5,"button",2)(6,"mat-icon"),t._uU(7,"edit"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"Rename"),t.qZA()(),t.TgZ(10,"button",2)(11,"mat-icon"),t._uU(12,"drive_file_move"),t.qZA(),t.TgZ(13,"span"),t._uU(14,"Move"),t.qZA()(),t.TgZ(15,"button",2)(16,"mat-icon"),t._uU(17,"file_copy"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"Copy"),t.qZA()(),t.TgZ(20,"button",2)(21,"mat-icon"),t._uU(22,"delete"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Delete"),t.qZA()(),t.YNc(25,N,5,0,"button",3),t.qZA()),2&e){const i=t.MAs(4);t.Q6J("matMenuTriggerFor",i),t.xp6(25),t.Q6J("ngIf",n.isFile)}},dependencies:[p.O5,O.Hw,x.VK,x.OP,x.p6,Z.RK],styles:[".actions[_ngcontent-%COMP%]{width:25px;display:flex;justify-content:center;cursor:pointer;border-radius:20px;height:25px;align-items:center}.actions[_ngcontent-%COMP%]:hover{background:#ccc}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f1f1f1;min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.show[_ngcontent-%COMP%]{display:block}"]}),r})();var D=l(8005);let y=(()=>{var o;class r{constructor(e,n){this.http=e,this.authService=n,this.url=`${M.N.url_api}/cloud`,this.$newFolder=new t.vpe}uploadFile(e,n){const i=new FormData;for(const c in e)e.hasOwnProperty(c)&&i.append("files",e[c]);i.append("path",n);const s=new U.x;return this.http.post(`${this.url}/uploadFile/${n}`,i,{reportProgress:!0,observe:"events"}).subscribe(c=>{switch(c.type){case v.dt.UploadProgress:const u=c.total?Math.round(100*c.loaded/c.total):0;s.next({progress:u});break;case v.dt.Response:s.next({progress:100,event:c.body}),s.complete()}}),s.asObservable()}createFolder(e,n){return this.http.post(`${this.url}/createDir/${n}`,{name:e})}}return(o=r).\u0275fac=function(e){return new(e||o)(t.LFG(v.eN),t.LFG(A.e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),r})();var d=l(1919);let $=(()=>{var o;class r{constructor(e,n){this._bottomSheetRef=e,this.cloudService=n}openLink(e,n){this[n]()}folder(){this.cloudService.$newFolder.emit(!0),this._bottomSheetRef.dismiss()}file(){document.getElementById("file").click(),this._bottomSheetRef.dismiss()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(D.oL),t.Y36(y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-bottom-sheet"]],decls:11,vars:0,consts:[["mat-list-item","",3,"click"],["matListItemTitle",""],["matLine",""]],template:function(e,n){1&e&&(t.TgZ(0,"mat-nav-list")(1,"a",0),t.NdJ("click",function(s){return n.openLink(s,"folder")}),t.TgZ(2,"span",1),t._uU(3,"Folder"),t.qZA(),t.TgZ(4,"span",2),t._uU(5,"Create a new folder"),t.qZA()(),t.TgZ(6,"a",0),t.NdJ("click",function(s){return n.openLink(s,"file")}),t.TgZ(7,"span",1),t._uU(8,"File"),t.qZA(),t.TgZ(9,"span",2),t._uU(10,"Upload new file"),t.qZA()()())},dependencies:[d.Hk,d.Tg,d.sL]}),r})();var m=l(9347),L=l(2032);let Y=(()=>{var o;class r{constructor(e,n){this.dialogRef=e,this.data=n}close(){this.dialogRef.close()}create(){if(!this.data.name.trim()||""==this.data.name.trim())return f.Z.error("Enter a name",""),void(this.data.name="");document.getElementById("create").click()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(m.so),t.Y36(m.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-folder"]],decls:13,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["cdkFocusInitial","","matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","id","create",2,"display","none",3,"mat-dialog-close"]],template:function(e,n){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Create new folder"),t.qZA(),t.TgZ(2,"div",1)(3,"p"),t._uU(4,"Enter folder name"),t.qZA(),t.TgZ(5,"input",2),t.NdJ("ngModelChange",function(s){return n.data.name=s}),t.qZA()(),t.TgZ(6,"div",3)(7,"button",4),t.NdJ("click",function(){return n.close()}),t._uU(8,"Cancel"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return n.create()}),t._uU(10,"Create"),t.qZA(),t.TgZ(11,"button",5),t._uU(12,"Create"),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngModel",n.data.name),t.xp6(6),t.Q6J("mat-dialog-close",n.data.name))},dependencies:[Z.lW,m.ZT,m.uh,m.xY,m.H8,L.Nt,g.Fj,g.JJ,g.On]}),r})();var _=l(3305),Q=l(6007);const z=["expansionPanel"];function B(o,r){if(1&o&&t._UZ(0,"mat-progress-bar",10),2&o){const a=t.oxw();t.Q6J("value",a.progressUpload.value)}}function E(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"mat-icon",11),t.NdJ("click",function(){t.CHM(a);const n=t.oxw();return t.KtG(n.closeAccordion())}),t._uU(1,"close"),t.qZA()}}function G(o,r){1&o&&(t.TgZ(0,"p"),t._uU(1,"Uploading files, please wait a moment"),t.qZA())}const R=function(o){return{color:o}};function K(o,r){if(1&o&&(t.TgZ(0,"mat-list-item")(1,"mat-icon",12),t._uU(2),t.qZA(),t.TgZ(3,"div",13),t._uU(4),t.qZA(),t.TgZ(5,"div",14),t._uU(6),t.qZA()()),2&o){const a=r.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(4,R,200==a.status?"#0f9b0f":"#af1313")),t.xp6(1),t.Oqu(200==a.status?"check":"close"),t.xp6(2),t.Oqu(a.name),t.xp6(2),t.Oqu(a.message)}}let H=(()=>{var o;class r{constructor(e,n,i){this._bottomSheet=e,this.cloudService=n,this.dialog=i,this.$newActionUploaded=new t.vpe,this.panelOpenState=!1,this.progressUpload={text:"Uploading...",value:0,loading:!0,uploaded:[]}}ngOnInit(){this.$newFolder=this.cloudService.$newFolder.subscribe(()=>this.newFolderModal())}ngOnDestroy(){this.$newFolder.unsubscribe()}openBottomSheet(){this._bottomSheet.open($)}newFolderModal(){this.dialog.open(Y,{data:{name:""}}).afterClosed().subscribe(n=>{n&&""!=n.trim()&&this.createFolder(n)})}createFolder(e){this.cloudService.createFolder(e.trim(),this.path).subscribe({next:n=>{f.Z.success(n.message,"Successful"),this.$newActionUploaded.emit(!0)},error:n=>{f.Z.error(n.error.message,"Error"),this.maskLoad.next(!1)}})}uploadFile(e){const n=e.target.files;this.progressUpload.loading=!0,this.progressUpload.value=0,this.progressUpload.text="Uploading...",this.progressUpload.uploaded=[],this.expansionPanel.close(),document.getElementById("accordion-uploading").classList.add("show"),this.cloudService.uploadFile(n,this.path).subscribe({next:i=>{i?.event?(this.progressUpload.uploaded=i.event.responses,this.progressUpload.text="Finished",this.expansionPanel.open(),this.progressUpload.loading=!1,this.$newActionUploaded.emit(!0)):this.progressUpload.value=i.progress},error:i=>{f.Z.error(i.error.message,"Error uploading files")},complete:()=>{document.getElementById("file").value=""}})}closeAccordion(){document.getElementById("accordion-uploading").classList.remove("show")}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(D.ch),t.Y36(y),t.Y36(m.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-upload"]],viewQuery:function(e,n){if(1&e&&t.Gf(z,7),2&e){let i;t.iGM(i=t.CRH())&&(n.expansionPanel=i.first)}},inputs:{path:"path",maskLoad:"maskLoad"},outputs:{$newActionUploaded:"$newActionUploaded"},decls:17,vars:5,consts:[[1,"button-container"],["mat-fab","","color","primary",1,"button_upload",3,"click"],["id","accordion-uploading"],[3,"opened","closed"],["expansionPanel",""],["mode","determinate",3,"value",4,"ngIf"],["class","icon-close-upload",3,"click",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","file","name","file","id","file","multiple","true",3,"change"],["mode","determinate",3,"value"],[1,"icon-close-upload",3,"click"],["matListItemIcon","",3,"ngStyle"],["matListItemTitle",""],["matListItemLine","",1,"message-uploaded"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.openBottomSheet()}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()(),t.TgZ(4,"mat-accordion",2)(5,"mat-expansion-panel",3,4),t.NdJ("opened",function(){return n.panelOpenState=!0})("closed",function(){return n.panelOpenState=!1}),t.TgZ(7,"mat-expansion-panel-header")(8,"mat-panel-title"),t._uU(9),t.qZA(),t.TgZ(10,"mat-panel-description"),t.YNc(11,B,1,1,"mat-progress-bar",5),t.YNc(12,E,2,0,"mat-icon",6),t.qZA()(),t.YNc(13,G,2,0,"p",7),t.TgZ(14,"mat-list"),t.YNc(15,K,7,6,"mat-list-item",8),t.qZA()()()(),t.TgZ(16,"input",9),t.NdJ("change",function(s){return n.uploadFile(s)}),t.qZA()),2&e&&(t.xp6(9),t.hij(" ",n.progressUpload.text," "),t.xp6(2),t.Q6J("ngIf",n.progressUpload.loading),t.xp6(1),t.Q6J("ngIf",!n.progressUpload.loading),t.xp6(1),t.Q6J("ngIf",n.progressUpload.loading),t.xp6(2),t.Q6J("ngForOf",n.progressUpload.uploaded))},dependencies:[p.sg,p.O5,p.PC,O.Hw,Z.cs,d.i$,d.Tg,d.Yt,d.WW,d.sL,_.pp,_.ib,_.yz,_.yK,_.u4,Q.pW],styles:[".button-container[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;display:flex;flex-direction:column;align-items:end;gap:10px}.button_upload[_ngcontent-%COMP%]{background:#2d2c2c;color:#fff}#accordion-uploading[_ngcontent-%COMP%]{display:none;max-height:300px;max-width:250px;overflow:auto;box-shadow:0 0 6px #bdbdbd}#accordion-uploading.show[_ngcontent-%COMP%]{display:block}#file[_ngcontent-%COMP%]{opacity:0;position:absolute;top:-100px}.icon-close-upload[_ngcontent-%COMP%]{margin-left:auto}.message-uploaded[_ngcontent-%COMP%]{overflow-x:auto;text-overflow:unset}@media (min-width: 768px){#accordion-uploading[_ngcontent-%COMP%]{max-height:400px;max-width:350px}}"]}),r})();function j(o,r){if(1&o&&(t.TgZ(0,"div")(1,"span"),t._uU(2,"/ "),t.qZA(),t.TgZ(3,"a",12),t._uU(4),t.qZA()()),2&o){const a=r.$implicit;t.xp6(3),t.Q6J("routerLink",a.link),t.xp6(1),t.Oqu(a.path)}}function W(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"div",20)(1,"div",21),t.NdJ("click",function(){const i=t.CHM(a).$implicit,s=t.oxw(2);return t.KtG(s.navigateFolder(i.name))}),t.TgZ(2,"span",22),t._UZ(3,"i",23),t.qZA(),t.TgZ(4,"p",24),t._uU(5),t.qZA()(),t._UZ(6,"app-actions",25),t.qZA()}if(2&o){const a=r.$implicit;t.xp6(1),t.s9C("title",a),t.xp6(4),t.Oqu(a.name),t.xp6(1),t.s9C("path",a.name)}}function X(o,r){if(1&o&&(t.TgZ(0,"div",26)(1,"div",27)(2,"span",22),t._UZ(3,"i"),t.qZA(),t.TgZ(4,"p",24),t._uU(5),t.qZA()(),t._UZ(6,"app-actions",28),t.qZA()),2&o){const a=r.$implicit,e=t.oxw(2);t.xp6(1),t.s9C("title",a),t.xp6(2),t.Gre("fas ",e.getIcon(a.name),""),t.xp6(2),t.Oqu(a.name),t.xp6(1),t.s9C("path",a.name),t.Q6J("isFile",!0)}}function V(o,r){if(1&o&&(t.TgZ(0,"div",13)(1,"div",14)(2,"div",15),t.YNc(3,W,7,3,"div",16),t.qZA()(),t.TgZ(4,"div",17)(5,"div",18),t.YNc(6,X,7,7,"div",19),t.qZA()()()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("ngForOf",a.data.content.directories),t.xp6(3),t.Q6J("ngForOf",a.data.content.files)}}function tt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"tr",37)(1,"td",38),t.NdJ("click",function(){const i=t.CHM(a).$implicit,s=t.oxw(3);return t.KtG(s.navigateFolder(i.name))}),t.TgZ(2,"span",22),t._UZ(3,"i",23),t.qZA()(),t.TgZ(4,"td",38),t.NdJ("click",function(){const i=t.CHM(a).$implicit,s=t.oxw(3);return t.KtG(s.navigateFolder(i.name))}),t._uU(5),t.qZA(),t.TgZ(6,"td",38),t.NdJ("click",function(){const i=t.CHM(a).$implicit,s=t.oxw(3);return t.KtG(s.navigateFolder(i.name))}),t._uU(7," \u2014 "),t.qZA(),t.TgZ(8,"td",38),t.NdJ("click",function(){const i=t.CHM(a).$implicit,s=t.oxw(3);return t.KtG(s.navigateFolder(i.name))}),t._uU(9),t.qZA(),t.TgZ(10,"td",39),t._UZ(11,"app-actions",25),t.qZA()()}if(2&o){const a=r.$implicit,e=t.oxw(3);t.xp6(5),t.Oqu(a.name),t.xp6(4),t.Oqu(e.getDate(a.createdAt)),t.xp6(2),t.s9C("path",a.name)}}function et(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"table",30),t.NdJ("matSortChange",function(n){t.CHM(a);const i=t.oxw(2);return t.KtG(i.sortDirectories(n))}),t.TgZ(1,"tr"),t._UZ(2,"th",31),t.TgZ(3,"th",32),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th",33),t._uU(6,"Size"),t.qZA(),t.TgZ(7,"th",34),t._uU(8,"Date"),t.qZA(),t.TgZ(9,"th",35),t._uU(10,"Actions"),t.qZA()(),t.YNc(11,tt,12,3,"tr",36),t.qZA()}if(2&o){const a=t.oxw(2);t.xp6(11),t.Q6J("ngForOf",a.sortedDirectories)}}function ot(o,r){if(1&o&&(t.TgZ(0,"tr",42)(1,"td")(2,"span",22),t._UZ(3,"i"),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._UZ(11,"app-actions",28),t.qZA()()),2&o){const a=r.$implicit,e=t.oxw(3);t.xp6(3),t.Gre("fas ",e.getIcon(a.name),""),t.xp6(2),t.Oqu(a.name),t.xp6(2),t.Oqu(e.getSize(a.size)),t.xp6(2),t.Oqu(e.getDate(a.createdAt)),t.xp6(2),t.s9C("path",a.name),t.Q6J("isFile",!0)}}function nt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"table",30),t.NdJ("matSortChange",function(n){t.CHM(a);const i=t.oxw(2);return t.KtG(i.sortFiles(n))}),t.TgZ(1,"tr"),t._UZ(2,"th",31),t.TgZ(3,"th",32),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th",40),t._uU(6,"Size"),t.qZA(),t.TgZ(7,"th",34),t._uU(8,"Date"),t.qZA(),t.TgZ(9,"th",35),t._uU(10,"Actions"),t.qZA()(),t.YNc(11,ot,12,8,"tr",41),t.qZA()}if(2&o){const a=t.oxw(2);t.xp6(11),t.Q6J("ngForOf",a.sortedFiles)}}function at(o,r){if(1&o&&(t.TgZ(0,"div",13),t.YNc(1,et,12,1,"table",29),t.YNc(2,nt,12,1,"table",29),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.data.content.directories.length>0||a.loading),t.xp6(1),t.Q6J("ngIf",a.data.content.files.length>0||a.loading)}}function it(o,r){1&o&&(t.TgZ(0,"div",43),t._uU(1," This folder is empty "),t.qZA())}function rt(o,r){1&o&&(t.TgZ(0,"div",43),t._uU(1," Your drive is empty "),t.qZA())}function st(o,r){if(1&o&&(t.TgZ(0,"div",43),t.YNc(1,it,2,0,"div",9),t.YNc(2,rt,2,0,"div",9),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.data.path),t.xp6(1),t.Q6J("ngIf",""==a.data.path)}}const lt=[{path:"",component:(()=>{var o;class r{constructor(e,n,i){this.router=e,this.dashBoardService=n,this.userService=i,this.viewTable=!0,this.maskLoad=new U.x,this.loading=!0,this.paths=[],this.data={path:"",content:{directories:[],files:[]}},this.sortedDirectories=[],this.sortedFiles=[],window.innerWidth<768&&(this.viewTable=!1)}ngOnInit(){this.processURL(),this.urlSubscription=this.router.events.subscribe(e=>{e instanceof h.m2&&this.processURL()})}ngOnDestroy(){this.urlSubscription.unsubscribe()}processURL(){const e=[],n=this.router.url.split("/").slice(2);n.forEach((i,s)=>{const c=n.slice(0,s+1).join("/");e.push({path:i,link:`/r/${c}`})}),this.paths=this.router.url.split("/").length>2?e:[],this.path=n.join("/"),this.openDir()}getIcon(e){const n=e.split(".");return b[n[n.length-1]]??b.default}navigateFolder(e){this.router.navigate(["/r/"+(this.path+"/"+e)])}newActionUploaded(){this.openDir(),this.userService.userProfile.emit(!0)}compare(e,n,i){if("string"==typeof e&&"string"==typeof n){const s=new Date(e),c=new Date(n);!isNaN(s.getTime())&&!isNaN(c.getTime())&&(e=s,n=c)}else e instanceof Date&&n instanceof Date&&(e=e.getTime(),n=n.getTime());return(e<n?-1:1)*(i?1:-1)}getDate(e){const i=new Date(e);return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"short",year:"numeric"}).format(i)}getSize(e){if(0==e)return"0 MB";const n=(e/1024).toFixed(0);return n>=1048576?`${(n/1048576).toFixed(2)} GB`:n>=1024?`${(n/1024).toFixed(2)} MB`:`${n} KB`}sortDirectories(e){this.sortData(e,"directories")}sortFiles(e){this.sortData(e,"files")}sortData(e,n){const i=this.data.content[n].slice();this["files"==n?"sortedFiles":"sortedDirectories"]=e&&e.active&&""!==e.direction?i.sort((c,u)=>{const C="asc"===e.direction;switch(e.active){case"name":return this.compare(c.name,u.name,C);case"size":return this.compare(c.size,u.size,C);case"date":return this.compare(c.createdAt,u.createdAt,C);default:return 0}}):i}openDir(){this.maskLoad.next(!0),this.dashBoardService.openDir(this.path).subscribe({next:e=>{this.data=e,this.sortDirectories(null),this.sortFiles(null)},error:e=>{f.Z.error(`/${this.path} - Forbidden.`,""),this.router.navigate(["/"])},complete:()=>{this.loading=!1,this.maskLoad.next(!1)}})}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(h.F0),t.Y36(q),t.Y36(S.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:16,vars:8,consts:[[1,"dashboard"],[1,"pathDiv"],[1,"path"],["routerLink","/"],[1,"fas","fa-home"],[4,"ngFor","ngForOf"],[1,"data"],[3,"ngModel","ngModelChange"],["class","data-container",4,"ngIf"],["class","empty",4,"ngIf"],[3,"path","maskLoad","$newActionUploaded"],[3,"showEvent"],[1,"detail",3,"routerLink"],[1,"data-container"],[1,"folders-container"],[1,"folders"],["class","folder",4,"ngFor","ngForOf"],[1,"files-container"],[1,"files"],["class","file",4,"ngFor","ngForOf"],[1,"folder"],["data-toggle","tooltip","data-placement","bottom",1,"folder-name",3,"title","click"],[1,"icon"],[1,"fas","fa-folder"],[1,"name"],[3,"path"],[1,"file"],["data-toggle","tooltip","data-placement","bottom",1,"file-name",3,"title"],[3,"path","isFile"],["matSort","","class","table",3,"matSortChange",4,"ngIf"],["matSort","",1,"table",3,"matSortChange"],["width","5%"],["width","45%","mat-sort-header","name"],["width","15%"],["width","15%","mat-sort-header","date"],["width","20%"],["class","containerDir",4,"ngFor","ngForOf"],[1,"containerDir"],[1,"open",3,"click"],[1,"no-open"],["width","15%","mat-sort-header","size"],["class","containerFiles",4,"ngFor","ngForOf"],[1,"containerFiles"],[1,"empty"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t._UZ(4,"i",4),t.qZA()(),t.YNc(5,j,5,2,"div",5),t.qZA(),t.TgZ(6,"div",6)(7,"h2"),t._uU(8," My unit "),t.TgZ(9,"mat-slide-toggle",7),t.NdJ("ngModelChange",function(s){return n.viewTable=s}),t._uU(10,"View Table"),t.qZA()(),t.YNc(11,V,7,2,"div",8),t.YNc(12,at,3,2,"div",8),t.qZA(),t.YNc(13,st,3,2,"div",9),t.TgZ(14,"app-upload",10),t.NdJ("$newActionUploaded",function(){return n.newActionUploaded()}),t.qZA(),t._UZ(15,"app-loading",11),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngForOf",n.paths),t.xp6(4),t.Q6J("ngModel",n.viewTable),t.xp6(2),t.Q6J("ngIf",!n.viewTable),t.xp6(1),t.Q6J("ngIf",n.viewTable),t.xp6(1),t.Q6J("ngIf",n.data.content.directories.length<1&&n.data.content.files.length<1&&!n.loading),t.xp6(1),t.Q6J("path",n.path)("maskLoad",n.maskLoad),t.xp6(1),t.Q6J("showEvent",n.maskLoad))},dependencies:[p.sg,p.O5,h.rH,J.N,F.YE,F.nU,k.Rr,g.JJ,g.On,I,H],styles:[".dashboard[_ngcontent-%COMP%]{width:90%;height:92vh;background:#FFF;margin:0 auto;padding:20px;position:relative;top:20px;border-radius:5px;overflow:hidden;display:grid;grid-template-rows:auto auto 1fr}.data[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding-bottom:10px;margin-bottom:10px}.data-container[_ngcontent-%COMP%]{height:calc(92vh - 100px);width:calc(100vw - 150px);overflow:auto}.data-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#757575}.pathDiv[_ngcontent-%COMP%]{display:flex;gap:0 5px;font-size:17px}.files-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .folders-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:10px 0}.files[_ngcontent-%COMP%], .folders[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.file[_ngcontent-%COMP%], .folder[_ngcontent-%COMP%], .pathDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0000008a}.file-name[_ngcontent-%COMP%]:hover, .folder-name[_ngcontent-%COMP%]:hover, .pathDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00000061}.containerDir[_ngcontent-%COMP%]:hover{background:rgba(212,212,212,.3803921569);cursor:pointer}.containerDir[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{background:transparent}.no-open[_ngcontent-%COMP%]{background:#fff}.file[_ngcontent-%COMP%], .folder[_ngcontent-%COMP%]{display:grid;grid-template-columns:70% 1fr;width:200px;align-items:center;padding:0 12px;font-size:19px;height:50px;margin:0 5px 10px;border-radius:5px;overflow:hidden}.folder[_ngcontent-%COMP%]{cursor:pointer}.file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .folder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:19px;width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.file-name[_ngcontent-%COMP%], .folder-name[_ngcontent-%COMP%]{display:flex;max-width:100%;height:100%;align-items:center;gap:15px}.empty[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:18px;position:absolute;top:50%;width:100%}.table[_ngcontent-%COMP%]{width:100%;font-size:15px}@media (min-width: 600px){.data-container[_ngcontent-%COMP%]{width:100%}}"]}),r})()}];let ct=(()=>{var o;class r{}return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild(lt),h.Bz]}),r})();var dt=l(4477);let pt=(()=>{var o;class r{}return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,ct,dt.m,g.u5]}),r})()}}]);