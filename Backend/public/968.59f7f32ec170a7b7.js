"use strict";(self.webpackChunkMigracion=self.webpackChunkMigracion||[]).push([[968],{4968:(D,g,d)=>{d.r(g),d.d(g,{AuthModule:()=>B});var p=d(6814),m=d(3403),s=d(6223),f=d(8645),u=d(4116),e=d(5879),v=d(304),h=d(6992),w=d(617);function A(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"div",29)(1,"p"),e._uU(2,"Actualmente esta es la version de SenntCloud que esta siendo refactorizada el dise\xf1o y c\xf3digo por completo y a\xfan no se termina de migrar todas las funcionalidades, pero de igual forma puedes continuar utilizando la subida de archivos y creada de carpetas."),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Para ver la version completa de las funcionalidad (pero con un dise\xf1o peor) accede a este link "),e.TgZ(5,"a",30),e._uU(6,"Cloud Old"),e.qZA()(),e.TgZ(7,"p"),e._uU(8,"Para usar esta version puedes usar las siguientes credenciales"),e.qZA(),e.TgZ(9,"p"),e._uU(10,"email: prueba@prueba.com"),e.qZA(),e.TgZ(11,"p"),e._uU(12,"constrase\xf1a: prueba123"),e.qZA(),e.TgZ(13,"span",31),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.show=!1)}),e.TgZ(14,"mat-icon"),e._uU(15,"close"),e.qZA()()()}}function b(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *enter a valid email "),e.qZA())}function x(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *required "),e.qZA())}function C(t,r){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,b,2,0,"div",33),e.YNc(2,x,2,0,"div",33),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.hasError("email","email")),e.xp6(1),e.Q6J("ngIf",i.hasError("email","required"))}}function U(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *must have at least 8 letters "),e.qZA())}function q(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *required "),e.qZA())}function y(t,r){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,U,2,0,"div",33),e.YNc(2,q,2,0,"div",33),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.hasError("password","minlength")),e.xp6(1),e.Q6J("ngIf",i.hasError("password","required"))}}let E=(()=>{var t;class r{constructor(o,n,a,l,c){this.renderer=o,this.router=n,this.route=a,this.formBuilder=l,this.authService=c,this.maskLoad=new f.x,this.show=!0,this.buildForm()}buildForm(){this.form=this.formBuilder.group({email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required,s.kI.minLength(8)]]})}togglePasswordVisibility(){const o=this.renderer.selectRootElement("#password-input"),n=this.renderer.selectRootElement(".icon-password"),a="password"===o.getAttribute("type")?"text":"password",l="password"===o.getAttribute("type")?"fa-eye":"fa-eye-slash",c="password"===o.getAttribute("type")?"fa-eye-slash":"fa-eye";this.renderer.setAttribute(o,"type",a),this.renderer.removeClass(n,l),this.renderer.addClass(n,c)}signup(){this.router.navigate(["../register"],{relativeTo:this.route})}hasError(o,n){return this.form.get(o).hasError(n)}haveErrors(o){return this.form.get(o).touched&&this.form.get(o).invalid}login(){this.form.valid?(this.maskLoad.next(!0),this.authService.login(this.form.value).subscribe({next:o=>{u.Z.success("Welcome!",""),this.maskLoad.next(!1),this.authService.saveAuth(o),this.form.markAsUntouched(),this.router.navigate(["/"])},error:o=>{this.maskLoad.next(!1),u.Z.setOption("timeOut",3e3),window.innerWidth<768&&u.Z.setOption("positionClass","toast-top-center"),u.Z.error(o.error.message,"Failed Login"),u.Z.setDefaultsOptions()}})):this.form.markAllAsTouched()}}return(t=r).\u0275fac=function(o){return new(o||t)(e.Y36(e.Qsj),e.Y36(m.F0),e.Y36(m.gz),e.Y36(s.qu),e.Y36(v.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:39,vars:5,consts:[["class","alert",4,"ngIf"],[1,"auth"],[1,"container-xl"],[1,"row"],[1,"col-md-5","text_auth"],[1,"fondo"],["src","assets/images/auth/cloud_blanco.png","alt","",1,"logo"],[1,"circulo-container"],[1,"circulo"],[1,"ondas","morada"],[1,"ondas","rosa"],[1,"circulo","fondo"],[1,"col-md-7","form",3,"formGroup","ngSubmit"],[1,"text"],[1,"form-floating","form-floating-custom","mb-3"],["formControlName","email","type","text","id","input-username","placeholder","Enter Email",1,"form-control"],["for","input-username"],["class","div-error",4,"ngIf"],[1,"form-floating","form-floating-custom","form-password","auth-pass-inputgroup","mb-3"],["formControlName","password","type","password","id","password-input","placeholder","Enter Password",1,"form-control"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","h-100","end-0","top-0",3,"click"],[1,"icon-password","fa-regular","fa-eye"],["for","input-password"],[1,"mt-4"],["type","submit",1,"btn","btn-dark","shadow-none","w-100"],[1,"mt-3","text-center"],[1,"mb-0","text-muted"],[1,"text-success","fw-bold","text-decoraton-underline","ms-1",3,"click"],[3,"showEvent"],[1,"alert"],["href","https://cloud.davidruiz.online","target","_blank"],[2,"cursor","pointer",3,"click"],[1,"div-error"],[4,"ngIf"]],template:function(o,n){1&o&&(e.YNc(0,A,16,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"div",5)(6,"img",6),e.TgZ(7,"div",7)(8,"div",8),e._UZ(9,"span",9)(10,"span",10)(11,"span",11),e.qZA()()(),e.TgZ(12,"form",12),e.NdJ("ngSubmit",function(){return n.login()}),e.TgZ(13,"div",13),e._uU(14," Log in to "),e.TgZ(15,"p"),e._uU(16,"SenntCloud"),e.qZA()(),e.TgZ(17,"div",14),e._UZ(18,"input",15),e.TgZ(19,"label",16),e._uU(20,"Email"),e.qZA(),e.YNc(21,C,3,2,"div",17),e.qZA(),e.TgZ(22,"div",18),e._UZ(23,"input",19),e.TgZ(24,"button",20),e.NdJ("click",function(){return n.togglePasswordVisibility()}),e._UZ(25,"i",21),e.qZA(),e.TgZ(26,"label",22),e._uU(27,"Password"),e.qZA(),e.YNc(28,y,3,2,"div",17),e.qZA(),e.TgZ(29,"div",23)(30,"button",24),e._uU(31,"Log In"),e.qZA()(),e._UZ(32,"hr"),e.TgZ(33,"div",25)(34,"p",26),e._uU(35,"Don't have an account ?"),e.TgZ(36,"a",27),e.NdJ("click",function(){return n.signup()}),e._uU(37," Sign up "),e.qZA()()()()()()(),e._UZ(38,"app-loading",28)),2&o&&(e.Q6J("ngIf",n.show),e.xp6(12),e.Q6J("formGroup",n.form),e.xp6(9),e.Q6J("ngIf",n.haveErrors("email")),e.xp6(7),e.Q6J("ngIf",n.haveErrors("password")),e.xp6(10),e.Q6J("showEvent",n.maskLoad))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,h.N,w.Hw],styles:[".alert[_ngcontent-%COMP%]{position:absolute;z-index:100;background:#dfdfdf}"]}),r})();var _=d(7398);class Z{static matchPasswords(r){return r.get("password").value!==r.get("confirmPassword").value?{match_password:!0}:null}static validateUsername(r){return i=>T(r,i.value,"username")}static validateEmail(r){return i=>T(r,i.value,"email")}static emailIsValid(r){return i=>r.isValidEmal(i.value).pipe((0,_.U)(n=>n.isValid?null:{not_valid:!0}))}}function T(t,r,i){return t.validateAvaible(r,i).pipe((0,_.U)(o=>o.isAvailable?null:{not_available:!0}))}function k(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *must have at least 3 letters "),e.qZA())}function I(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *required "),e.qZA())}function J(t,r){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,k,2,0,"div",34),e.YNc(2,I,2,0,"div",34),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.hasError("username","minlength")),e.xp6(1),e.Q6J("ngIf",i.hasError("username","required"))}}function N(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *email is already in use "),e.qZA())}function L(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *enter a valid email "),e.qZA())}function R(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *required "),e.qZA())}function Y(t,r){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,N,2,0,"div",34),e.YNc(2,L,2,0,"div",34),e.YNc(3,R,2,0,"div",34),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.hasError("email","not_available")),e.xp6(1),e.Q6J("ngIf",i.hasError("email","email")),e.xp6(1),e.Q6J("ngIf",i.hasError("email","required"))}}function Q(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *must have at least 8 letters "),e.qZA())}function P(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *required "),e.qZA())}function S(t,r){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,Q,2,0,"div",34),e.YNc(2,P,2,0,"div",34),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.hasError("password","minlength")),e.xp6(1),e.Q6J("ngIf",i.hasError("password","required"))}}function F(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," *passwords don't match "),e.qZA())}function M(t,r){if(1&t&&(e.TgZ(0,"div",33),e.YNc(1,F,2,0,"div",34),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.form.hasError("match_password"))}}const O=[{path:"login",component:E},{path:"register",component:(()=>{var t;class r{constructor(o,n,a,l,c){this.renderer=o,this.router=n,this.route=a,this.formBuilder=l,this.authService=c,this.maskLoad=new f.x,this.buildForm()}buildForm(){this.form=this.formBuilder.group({username:["",[s.kI.required,s.kI.minLength(3)]],email:["",[s.kI.required,s.kI.email],Z.validateEmail(this.authService)],password:["",[s.kI.required,s.kI.minLength(8)]],confirmPassword:["",[s.kI.required]]},{validators:Z.matchPasswords})}togglePasswordVisibility(o=""){const a="."+o+"icon-password",l=this.renderer.selectRootElement("#"+o+"password-input"),c=this.renderer.selectRootElement(a),j="password"===l.getAttribute("type")?"text":"password",G="password"===l.getAttribute("type")?"fa-eye":"fa-eye-slash",W="password"===l.getAttribute("type")?"fa-eye-slash":"fa-eye";this.renderer.setAttribute(l,"type",j),this.renderer.removeClass(c,G),this.renderer.addClass(c,W)}signin(){this.router.navigate(["../login"],{relativeTo:this.route})}hasError(o,n){return this.form.get(o).hasError(n)}haveErrors(o){return this.form.get(o).touched&&this.form.get(o).invalid}register(){this.form.valid?(this.maskLoad.next(!0),this.authService.register(this.form.value).subscribe({next:o=>{u.Z.success("Welcome!",""),this.maskLoad.next(!1),this.authService.saveAuth(o),this.form.markAsUntouched(),this.router.navigate(["/"])},error:o=>{this.maskLoad.next(!1),u.Z.setOption("timeOut",3e3),window.innerWidth<768&&u.Z.setOption("positionClass","toast-top-center"),u.Z.error(o.error.message,"Failed Register"),u.Z.setDefaultsOptions()}})):this.form.markAllAsTouched()}}return(t=r).\u0275fac=function(o){return new(o||t)(e.Y36(e.Qsj),e.Y36(m.F0),e.Y36(m.gz),e.Y36(s.qu),e.Y36(v.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:50,vars:6,consts:[[1,"auth","register"],[1,"container-xl"],[1,"row"],[1,"col-md-7","form",3,"formGroup","ngSubmit"],[1,"text"],[1,"form-floating","form-floating-custom","mb-3"],["formControlName","username","type","text","id","input-name","placeholder","Enter Name",1,"form-control"],["for","input-name"],["class","div-error",4,"ngIf"],["formControlName","email","type","text","id","input-username","placeholder","Enter Email",1,"form-control"],["for","input-username"],[1,"form-floating","form-floating-custom","form-password","auth-pass-inputgroup","mb-3"],["formControlName","password","type","password","id","password-input","placeholder","Enter Password",1,"form-control"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","h-100","end-0","top-0",3,"click"],[1,"icon-password","fa-regular","fa-eye"],["for","input-password"],["formControlName","confirmPassword","type","password","id","conf-password-input","placeholder","Enter Confirm Password",1,"form-control"],["type","button","id","conf-password-addon",1,"btn","btn-link","position-absolute","h-100","end-0","top-0",3,"click"],[1,"conf-icon-password","fa-regular","fa-eye"],[1,"mt-4"],["type","submit",1,"btn","btn-dark","shadow-none","w-100"],[1,"mt-3","text-center"],[1,"mb-0","text-muted"],[1,"text-success","fw-bold","text-decoraton-underline","ms-1",3,"click"],[1,"col-md-5","text_auth"],[1,"fondo"],["src","assets/images/auth/cloud_blanco.png","alt","",1,"logo"],[1,"circulo-container"],[1,"circulo"],[1,"ondas","morada"],[1,"ondas","rosa"],[1,"circulo","fondo"],[3,"showEvent"],[1,"div-error"],[4,"ngIf"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return n.register()}),e.TgZ(4,"div",4),e._uU(5," Register in to "),e.TgZ(6,"p"),e._uU(7,"SenntCloud"),e.qZA()(),e.TgZ(8,"div",5),e._UZ(9,"input",6),e.TgZ(10,"label",7),e._uU(11,"Name"),e.qZA(),e.YNc(12,J,3,2,"div",8),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"input",9),e.TgZ(15,"label",10),e._uU(16,"Email"),e.qZA(),e.YNc(17,Y,4,3,"div",8),e.qZA(),e.TgZ(18,"div",11),e._UZ(19,"input",12),e.TgZ(20,"button",13),e.NdJ("click",function(){return n.togglePasswordVisibility()}),e._UZ(21,"i",14),e.qZA(),e.TgZ(22,"label",15),e._uU(23,"Password"),e.qZA(),e.YNc(24,S,3,2,"div",8),e.qZA(),e.TgZ(25,"div",11),e._UZ(26,"input",16),e.TgZ(27,"button",17),e.NdJ("click",function(){return n.togglePasswordVisibility("conf-")}),e._UZ(28,"i",18),e.qZA(),e.TgZ(29,"label",15),e._uU(30,"Confirm Password"),e.qZA(),e.YNc(31,M,2,1,"div",8),e.qZA(),e.TgZ(32,"div",19)(33,"button",20),e._uU(34,"Register"),e.qZA()(),e._UZ(35,"hr"),e.TgZ(36,"div",21)(37,"p",22),e._uU(38,"Have an account ?"),e.TgZ(39,"a",23),e.NdJ("click",function(){return n.signin()}),e._uU(40," Sign in "),e.qZA()()()(),e.TgZ(41,"div",24),e._UZ(42,"div",25)(43,"img",26),e.TgZ(44,"div",27)(45,"div",28),e._UZ(46,"span",29)(47,"span",30)(48,"span",31),e.qZA()()()()()(),e._UZ(49,"app-loading",32)),2&o&&(e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(9),e.Q6J("ngIf",n.haveErrors("username")),e.xp6(5),e.Q6J("ngIf",n.haveErrors("email")),e.xp6(7),e.Q6J("ngIf",n.haveErrors("password")),e.xp6(7),e.Q6J("ngIf",n.form.get("confirmPassword").touched&&n.form.errors),e.xp6(18),e.Q6J("showEvent",n.maskLoad))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,h.N]}),r})()},{path:"**",redirectTo:"login"}];let V=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(O),m.Bz]}),r})();var z=d(4477);let B=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,V,s.UX,z.m]}),r})()}}]);